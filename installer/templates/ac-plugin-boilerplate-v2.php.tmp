<?php

/*
Plugin Name: {{ plugin_name }}
Plugin URI: https://angrycreative.se
Description: {{ plugin_desc }}
Version: 0.0.1
Author: Angry Creatives
Author URI: https://angrycreative.se
License: GPL2
*/

if ( file_exists( ABSPATH . '/../vendor/autoload.php' ) ) {
	require_once ABSPATH . '/../vendor/autoload.php';
} elseif ( file_exists( ABSPATH . '/vendor/autoload.php' ) ) {
	require_once ABSPATH . '/vendor/autoload.php';
}
spl_autoload_register( function( $classname ) {
	$classname = explode( '\\', $classname );
	$sub_dir = ( count( $class ) > 2 ) ? '/' . $class[1] : '';

    $classfile = sprintf(
    	'%sincludes%s/class-%s.php',
    	plugin_dir_path( __FILE__ ),
    	str_replace( '_', '-', strtolower( $sub_dir ) ),
    	str_replace( '_', '-', strtolower( end( $class ) ) )
    );

	if ( file_exists( $classfile ) ) {
		include_once $classfile;
	}
});

\{{ plugin_namespace }}\Plugin::get_instance();
